---
title: "toGenerationStats"
description: "Generates comprehensive statistics about the code generation process."
kind: "variable"
filename: "skmtc/deno/core/helpers/generationStats.ts"
line: 134
---

# toGenerationStats

Generates comprehensive statistics about the code generation process.

This function analyzes the generation manifest and produced artifacts to create
detailed statistics including token counts, lines of code, timing information,
error tracking, and file counts. It's used for performance monitoring, debugging,
and reporting on generation runs.

The function combines multiple analysis methods to provide a complete picture
of the generation process, including tokenization analysis for cost estimation,
error path extraction for debugging, and timing analysis for performance optimization.


**@param** args - Generation analysis configuration

**@param** args.manifest - The generation manifest with metadata and results

**@param** args.artifacts - Map of file paths to generated content

**@returns** Comprehensive generation statistics object


## Example

Basic usage
```typescript
import { toGenerationStats } from '@skmtc/core';

const stats = toGenerationStats({
  manifest: {
    startAt: 1672531200000,
    endAt: 1672531245000,
    files: {
      './models.ts': { lines: 150, characters: 4500 },
      './types.ts': { lines: 80, characters: 2100 }
    },
    results: { }
  },
  artifacts: {
    './models.ts': 'export interface User { id: string; name: string; }',
    './types.ts': 'export type Status = "active" | "inactive";'
  }
});

console.log(stats);
// {
//   tokens: 250,
//   lines: 230,
//   totalTime: 45000,
//   errors: [],
//   files: 2
// }
```


## Example

Performance monitoring
```typescript
class GenerationMonitor {
  analyzeGeneration(manifest: ManifestContent, artifacts: Record<string, string>) {
    const stats = toGenerationStats({ manifest, artifacts });

    console.log(`Generation completed in ${stats.totalTime}ms`);
    console.log(`Generated ${stats.files} files with ${stats.lines} lines`);
    console.log(`Token usage: ${stats.tokens} tokens`);

    if (stats.errors.length > 0) {
      console.warn(`Found ${stats.errors.length} errors:`);
      stats.errors.forEach((errorPath, index) => {
        console.warn(`  ${index + 1}. ${errorPath.join(' -> ')}`);
      });
    }

    return stats;
  }
}
```


## Example

Cost estimation
```typescript
function estimateGenerationCost(stats: GenerationStats): number {
  const tokensPerDollar = 1000000; // Example rate
  const estimatedCost = stats.tokens / tokensPerDollar;

  console.log(`Estimated cost: $${estimatedCost.toFixed(4)}`);
  console.log(`Efficiency: ${stats.lines / stats.tokens} lines per token`);

  return estimatedCost;
}
```


## Example

Build reporting
```typescript
function generateBuildReport(stats: GenerationStats): string {
  const efficiency = stats.totalTime / stats.files;
  const successRate = ((stats.files - stats.errors.length) / stats.files * 100).toFixed(1);

  return `
Build Report:
-----------
Files Generated: ${stats.files}
Total Lines: ${stats.lines.toLocaleString()}
Token Count: ${stats.tokens.toLocaleString()}
Generation Time: ${(stats.totalTime / 1000).toFixed(2)}s
Average per File: ${efficiency.toFixed(0)}ms
Success Rate: ${successRate}%
Errors: ${stats.errors.length}
  `.trim();
}
```

## Variable Definition

```typescript
const toGenerationStats: (...) =\> GenerationStats
```

## Source

Located at `skmtc/deno/core/helpers/generationStats.ts:134:13`
