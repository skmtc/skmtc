---
title: "oasOperationData"
description: "Valibot schema for validating OpenAPI operation data objects."
kind: "variable"
filename: "skmtc/deno/core/oas/operation/operation-types.ts"
line: 287
---

# oasOperationData

Valibot schema for validating OpenAPI operation data objects.

This comprehensive schema validates OpenAPI operations according to the OpenAPI v3
specification, including all standard properties like HTTP methods, parameters,
request bodies, responses, and metadata. It uses lazy evaluation and unions to
handle complex nested structures and reference objects.

The schema ensures that operation data conforms to OpenAPI standards while also
including SKMTC-specific metadata (like `oasType` and `pathItem`) needed for
the code generation pipeline.


## Example

Validating a GET operation
```typescript
import { oasOperationData } from '@skmtc/core/oas/operation';
import * as v from 'valibot';

const operation = {
  oasType: 'operation',
  path: '/api/users/{id}',
  method: 'get',
  operationId: 'getUserById',
  summary: 'Get user by ID',
  parameters: [
    {
      name: 'id',
      in: 'path',
      required: true,
      schema: { type: 'string' }
    }
  ],
  responses: {
    '200': {
      description: 'Success',
      content: {
        'application/json': {
          schema: { $ref: '#/components/schemas/User' }
        }
      }
    }
  },
  pathItem: validPathItem
};

const validated = v.parse(oasOperationData, operation);
console.log(validated.operationId); // 'getUserById'
```


## Example

Validating a POST operation with request body
```typescript
const postOperation = {
  oasType: 'operation',
  path: '/api/users',
  method: 'post',
  operationId: 'createUser',
  requestBody: {
    description: 'User data',
    required: true,
    content: {
      'application/json': {
        schema: { $ref: '#/components/schemas/CreateUserRequest' }
      }
    }
  },
  responses: {
    '201': {
      description: 'User created',
      content: {
        'application/json': {
          schema: { $ref: '#/components/schemas/User' }
        }
      }
    }
  },
  pathItem: validPathItem
};

const validated = v.parse(oasOperationData, postOperation);
console.log(validated.method); // 'post'
```


## Example

Validation error handling
```typescript
const invalidOperation = {
  oasType: 'operation',
  path: '/api/users',
  method: 'invalid', // Invalid HTTP method
  responses: {} // Missing required responses
};

try {
  v.parse(oasOperationData, invalidOperation);
} catch (error) {
  console.error('Validation failed:', error.message);
  // Handle validation errors
}
```

## Variable Definition

```typescript
const oasOperationData: v.GenericSchema
```

## Source

Located at `skmtc/deno/core/oas/operation/operation-types.ts:287:13`
