---
title: "OasUnion"
description: "Represents a union type schema in the OpenAPI Specification."
kind: "class"
filename: "skmtc/deno/core/oas/union/Union.ts"
line: 141
---

# OasUnion

Represents a union type schema in the OpenAPI Specification.

`OasUnion` handles both OpenAPI `oneOf` and `anyOf` constructs by mapping them
to TypeScript union types. While OpenAPI distinguishes between these concepts,
in TypeScript they both represent union types (A | B | C), making the distinction
less meaningful for code generation.

This class supports both simple unions and discriminated (tagged) unions through
the discriminator property, which enables more precise type narrowing in generated code.

## Key Features

- **Union Types**: Represents multiple possible schema types as a single union
- **Tagged Unions**: Supports discriminator properties for type narrowing
- **Reference Resolution**: Handles references to other schemas within union members
- **Nullable Support**: Can represent nullable union types (A | B | null)
- **JSON Schema**: Converts to standard JSON Schema format for validation


## Example

Basic union type
```typescript
import { OasUnion, OasString, OasInteger } from '@skmtc/core';

const stringOrNumber = new OasUnion({
  title: 'StringOrNumber',
  description: 'A value that can be either a string or number',
  members: [
    new OasString({ title: 'String Value' }),
    new OasInteger({ title: 'Integer Value' })
  ]
});

// This represents: string | number
```


## Example

Discriminated union (tagged union)
```typescript
const shape = new OasUnion({
  title: 'Shape',
  description: 'Different types of geometric shapes',
  discriminator: new OasDiscriminator({
    propertyName: 'type',
    mapping: {
      'circle': '#/components/schemas/Circle',
      'square': '#/components/schemas/Square'
    }
  }),
  members: [
    new OasRef({ $ref: '#/components/schemas/Circle' }),
    new OasRef({ $ref: '#/components/schemas/Square' })
  ]
});

// This creates a tagged union that can be narrowed by the 'type' property
```


## Example

Nullable union
```typescript
const nullableStatus = new OasUnion({
  title: 'NullableStatus',
  nullable: true,
  members: [
    new OasString({ enum: ['active', 'inactive'] }),
    new OasString({ enum: ['pending', 'suspended'] })
  ],
  default: null
});

// This represents: ('active' | 'inactive' | 'pending' | 'suspended') | null
```


## Example

Complex nested union
```typescript
const apiResponse = new OasUnion({
  title: 'ApiResponse',
  description: 'Response from API endpoint',
  members: [
    new OasObject({
      title: 'SuccessResponse',
      properties: {
        success: new OasBoolean({ default: true }),
        data: new OasObject({ additionalProperties: true })
      }
    }),
    new OasObject({
      title: 'ErrorResponse',
      properties: {
        error: new OasString(),
        code: new OasInteger()
      }
    })
  ]
});

// This represents: { success: boolean; data: Record<string, any> } | { error: string; code: number }
```


## Example

Using with references
```typescript
const userOrAdmin = new OasUnion({
  title: 'UserOrAdmin',
  description: 'Either a regular user or an admin user',
  members: [
    new OasRef({ $ref: '#/components/schemas/User' }),
    new OasRef({ $ref: '#/components/schemas/Admin' })
  ]
});

// References will be resolved during processing
// This represents: User | Admin
```

## Class Definition

### Constructors

- `constructor(fields: UnionFields)`

### Properties

- `oasType: schema`
- `type: union`
- `title: unknown`
- `description: unknown`
- `nullable: unknown`
- `discriminator: unknown`
- `members: unknown`
- `extensionFields: unknown`
- `example?: unknown`
- `default?: unknown`

### Methods

- `isRef(): this is OasRef\<"schema"\>`
- `resolve(): OasUnion`
- `resolveOnce(): OasUnion`
- `toJsonSchema(options: ToJsonSchemaOptions): OpenAPIV3.NonArraySchemaObject`

## Source

Located at `skmtc/deno/core/oas/union/Union.ts:141:0`
